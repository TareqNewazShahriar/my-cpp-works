<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0063)http://online-judge.uva.es/contest/data/0157/problemset/p2.html -->
<HTML><HEAD><TITLE>Problem C</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<STYLE>DIV.Section1 {
	page: Section1
}
H1 {
	FONT-WEIGHT: bold; FONT-SIZE: 16pt; MARGIN: 0in 0in 0pt; FONT-FAMILY: "Times New Roman"; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt
}
DIV.MsoNormal {
	FONT-SIZE: 12pt; FONT-FAMILY: "Times New Roman"; mso-style-parent: ""; margin-left:0in; margin-right:0in; margin-top:0in; margin-bottom:0pt
}
</STYLE>

<META content="Microsoft FrontPage 5.0" name=GENERATOR></HEAD>
<BODY><BASEFONT face=ARIAL>
<P></P>
<CENTER><B><SPAN style="FONT-SIZE: 28pt; FONT-FAMILY: Arial">Problem 
C</SPAN></B><SPAN style="FONT-FAMILY: Arial"><BR></SPAN><B><SPAN 
style="FONT-SIZE: 20pt; FONT-FAMILY: Arial">MineSweeper II</SPAN></B><SPAN 
style="FONT-SIZE: 20pt; FONT-FAMILY: Arial"><BR></SPAN><SPAN 
style="FONT-FAMILY: Arial"><B>Time Limit: </B>6 Seconds</SPAN> </CENTER>
<P></P>
<P align=right>
<TABLE border=0>
  <TBODY>
  <TR>
    <TD><SMALL><I>"Minesweeper is more than a game.<BR>it's a way of 
      life!"</I> </SMALL></TD></TR></TBODY></TABLE><TT><BR></TT>
<P class=paragraph><FONT face="Times New Roman">Recently, Mostafa has learned to 
play Minesweeper. He likes playing the game so much, but he cannot detect the 
mines of some states of the game. Thus, he decided to write a program to do the 
task for him. But he couldn't and he asks you to write the program!</P>
<P class=paragraph>Here is an explanation of a game state: 
<UL>
  <LI>The game has an <B>M </B><FONT face=Arial>x</FONT><FONT 
  face="Times New Roman"> <B>N</B></FONT><FONT face="Times New Roman"> board. 
  <LI>Some cells are not marked, and some are marked. 
  <LI>Unmarked cells are identified by a '.' (without single-quotes) character.
  <LI>If a cell is marked with '<B>X</B>', it means that there is a mine in that 
  cell. 
  <LI>If a cell is marked with '<B>E</B>', it means that there is no mine in 
  that cell, and in the cells adjacent to it (every cell has <B>8</B> adjacent 
  cells).
  <LI>If a cell is marked with a digit <B>D = 1 .. 8</B>, it means that there is 
  no mine in that cell, but there are exactly <B>D</B> adjacent cells which 
  contain mines. </LI></UL>
<P>Given a <I>valid</I> state of the game, Your task is to determine the 
unmarked cells that certainly contain a mine. </P>
<P></P>
<P><STRONG>Note: </STRONG>There are no more than <B>35</B> unmarked cells. </P>
<P class=paragraph><FONT style="FONT-SIZE: 16pt"><B>Input</B></FONT><BR>The 
first line of input gives the number of cases <B>T</B>. Then,<B> </B>T test 
cases follow. Each one starts with a line containing number of rows 
(<NOBR>1&lt;=<B>M</B>&lt;=10</NOBR>) and number of columns 
(<NOBR>1&lt;=<B>N</B>&lt;=10</NOBR>) and the number of unmarked cells with 
bombs<STRONG> </STRONG>(<STRONG>c </STRONG><B>&lt;= 15</B>). Each of next 
<B>M</B> lines contain exactly <STRONG>N </STRONG>characters. These lines 
demonstrate a state of the game. There will be a blank line after each test 
case.</P>
<P class=paragraph><FONT style="FONT-SIZE: 16pt"><B>Output</B></FONT><BR>For 
the<B> x</B><I>th</I><B> </B>test case, your program must output the line 
containing "Case #<B>x</B>:", followed by <STRONG>M </STRONG>lines each 
containing <STRONG>N </STRONG>characters, which demonstrate the same state of 
the game, with all unmarked cells certainly containing a mine, changed to 
'<B>X</B>'.</P>
<DIV class=Section1>
<TABLE id=table1 
style="BACKGROUND: rgb(204,204,204) 0% 50%; WIDTH: 6.7in; BORDER-COLLAPSE: collapse; moz-background-clip: initial; moz-background-origin: initial; moz-background-inline-policy: initial" 
cellSpacing=0 cellPadding=0 width=643 bgColor=#cccccc border=1>
  <TBODY>
  <TR bgColor=#0000e0>
    <TD style="FONT-SIZE: 18px" bgColor=#ffffff><B>
      <CENTER>Sample Input</CENTER></B></TD>
    <TD style="FONT-SIZE: 18px" bgColor=#ffffff><B>
      <CENTER>Sample Output</CENTER></B></TD></TR>
  <TR>
    <TD vAlign=top width=319><B><FONT face="Courier New" size=2>4<BR>2 2 2 
      <BR>22<BR>..<BR><BR>3 3 0 <BR>121<BR>X.X<BR>..1<BR><BR>3 3 
      0<BR>...<BR>...<BR>X1.<BR><BR>3 4 1<BR>.2X.<BR>121.<BR>EEEE</FONT></B><PRE style="FONT-SIZE: 10pt; MARGIN: 0in 0in 0pt; FONT-FAMILY: Courier New; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt">&nbsp;</PRE></TD>
    <TD vAlign=top width=324><PRE style="FONT-SIZE: 10pt; MARGIN: 0in 0in 0pt; FONT-FAMILY: Courier New; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><B>Case #1:
22
XX
<BR>Case #2:
121
X.X
..1
<BR>Case #3:
...
...
X1.
<BR>Case #4:
X2X.
121.
EEEE</B></PRE></TD></TR></TBODY></TABLE>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center>
<HR align=center width="100%" SIZE=2>
</DIV><FONT face="Arial, Times New Roman"><B>Problem setter: Hadi 
Moshayedi</B></FONT></DIV>
<P><B><FONT style="FONT-SIZE: 10pt" face="Arial, Times New Roman">1st Amirkabir 
UT Annual Programming Contest&nbsp; Final 
Round</FONT></B></P></FONT></FONT></BODY></HTML>