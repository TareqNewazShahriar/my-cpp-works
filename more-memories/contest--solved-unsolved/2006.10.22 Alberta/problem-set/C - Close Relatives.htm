<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0062)http://online-judge.uva.es/contest/data/0160/problemset/C.html -->
<HTML><HEAD><TITLE>Close Relatives</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY>
<H2>Problem C: Close Relatives</H2><IMG src="C - Close Relatives_files/C1.jpg" 
align=right> Roger is researching the family tree for his pet quesnot Arthur. 
Quesnots are mythical animals who cooperate to raise a number of young. Adult 
quesnots form a parenthood of up to ten parents to raise a litter of young. Once 
the young have matured, all parents are exhausted and cannot help raise a second 
litter before they die. 
<P>Roger has determined some of Arthur's ancestors' families, but is having 
trouble determining whether certain relatives are ancestors of another. He has 
written a program to calculate this fact, but Roger requires lists of a 
particular format. Your job is to convert his family tree into one or more lists 
for him to use. 
<H3>Input</H3>A family tree will be given as input. Each line will consist of a 
quesnot name, possibly followed by a list of at most ten parents. Each name will 
be at most 30 characters, and may include letters, numbers, hyphens, spaces or 
periods. Names on a line will be separated by commas. There will be at least one 
and at most 5000 unique names in the tree, and no quesnot can be his own 
ancestor. 
<P>Recall that each quesnot will have at most one child. Brothers and sisters, 
aunts and uncles will not be included in the input. Each name will occur as the 
first name on a line at most once. You may assume that the first name on the 
first line is the bottom of the tree (i.e., will have no children), and that 
this is the only name in the file with no children. 
<H3>Output</H3>You are to produce a minimum number of lists with the following 
properties: 
<UL>
  <LI>Every quesnot mentioned in the tree occurs in each list exactly once, 
  <LI>Quesnot <I>A</I> is an ancestor of quesnot <I>B</I> exactly when <I>A</I> 
  appears before <I>B</I> in every list. </LI></UL>The first line of output 
indicates the number of lists <I>m</I>, <I>m</I> &gt; 0. A blank line then 
appears. Following are <I>m</I> lists, each containing all names in appropriate 
order. A blank line appears between lists. 
<P>There may be several solutions satisfying these requirements. Any such 
solution may be chosen. <!--
<center>
<pre>
 Monica  George 
      \  /      
       \/       
Adam  Jane  Pat 
   \   /    /   
    \ /    /    
    Bob  Julie  
      \  /      
       \/       
     Arthur     
</pre>
</center>
-->
<P><IMG hspace=100 src="C - Close Relatives_files/C2.gif" align=right vspace=20> 

<H3>Sample Input</H3><PRE>Arthur,Bob,Julie
Bob,Adam,Jane
Jane,Monica,George
Julie,Pat
</PRE>
<H3>Output for Sample Input</H3><PRE>2

Adam
Monica
George
Jane
Bob
Pat
Julie
Arthur

Pat
Julie
George
Monica
Jane
Adam
Bob
Arthur
</PRE>
<HR>
<EM>Richard Krueger </EM></BODY></HTML>
