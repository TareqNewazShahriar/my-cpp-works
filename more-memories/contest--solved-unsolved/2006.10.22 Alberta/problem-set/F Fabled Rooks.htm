<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0062)http://online-judge.uva.es/contest/data/0160/problemset/F.html -->
<HTML><HEAD><TITLE>Problem F: Fabled Rooks</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY>
<H2>Problem F: Fabled Rooks </H2><IMG hspace=20 
src="Problem F Fabled Rooks_files/F.jpg" align=right vspace=20> We would like to 
place <EM>n</EM> rooks, 1&nbsp;&#8804;&nbsp;<EM>n</EM>&nbsp;&#8804;&nbsp;5000, on a 
<EM>n×n</EM> board subject to the following restrictions 
<UL>
  <LI>The <EM>i</EM>-th rook can only be placed within the rectangle given by 
  its left-upper corner (<EM>xl<SUB>i</SUB></EM>, <EM>yl<SUB>i</SUB></EM>) and 
  its right-lower corner (<EM>xr<SUB>i</SUB></EM>, <EM>yr<SUB>i</SUB></EM>), 
  where 1&nbsp;&#8804;&nbsp;<EM>i</EM>&nbsp;&#8804;&nbsp;<EM>n</EM>, 
  1&nbsp;&#8804;&nbsp;<EM>xl<SUB>i</SUB></EM>&nbsp;&#8804;&nbsp;<EM>xr<SUB>i</SUB></EM>&nbsp;&#8804;&nbsp;<EM>n</EM>, 
  1&nbsp;&#8804;&nbsp;<EM>yl<SUB>i</SUB></EM>&nbsp;&#8804;&nbsp;<EM>yr<SUB>i</SUB></EM>&nbsp;&#8804;&nbsp;<EM>n</EM>. 

  <LI>No two rooks can attack each other, that is no two rooks can occupy the 
  same column or the same row. </LI></UL>
<P>The first line of input contains one integer number, <EM>n</EM>, the side of 
the board. <EM>n</EM>&nbsp;lines follow giving the rectangles where the rooks 
can be placed as described above. The <EM>i</EM>-th line among them gives 
<EM>xl<SUB>i</SUB></EM>, <EM>yl<SUB>i</SUB></EM>, <EM>xr<SUB>i</SUB></EM>, and 
<EM>yr<SUB>i</SUB></EM>. 
<P>Your task is to find such a placing of rooks that the above conditions are 
satisfied and then output <EM>n</EM>&nbsp;lines each giving the position of a 
rook in order in which their rectangles appeared in the input. If there are 
multiple solutions, any one will do. Output <TT>IMPOSSIBLE</TT> if there is no 
such placing of the rooks. 
<H3>Sample input</H3><PRE>8
1 1 2 2
5 7 8 8
2 2 5 5
2 2 5 5
6 3 8 6
6 3 8 5
6 3 8 8
3 6 7 8
</PRE>
<H3>Output for sample input</H3><PRE>1 1
5 8
2 4
4 2
7 3
8 5
6 6
3 7

</PRE>
<HR>
<EM>K. Diks, adapted by P. Rudnicki</EM> </BODY></HTML>
